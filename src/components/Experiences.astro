---
const allExperiences = await Astro.glob("../content/experiences/*.md");
---

<section id="experiences">
  <div class="experiences__header">
    <img width="20" height="20" src="/icons/icon-education.svg" alt="icon" />
    <h2>Education</h2>
  </div>
  <ul>
    {
      allExperiences.map((experience) => (
        <li>
          <div class="group">
            <img
              width="40"
              height="40"
              decoding="async"
              src={experience.frontmatter.compagnyimage}
              alt="compagny image"
            />
          </div>
          <div class="group">
            <h3>{experience.frontmatter.compagny}</h3>
            <div class="details">
              <h4>{experience.frontmatter.role}</h4>
              <div class="time-details">
                <time datetime="2019">{experience.frontmatter.startjob}</time>
                <span aria-hidden="true">â€”</span>
                <time datetime="2023">{experience.frontmatter.endjob}</time>
              </div>
            </div>
          </div>
        </li>
      ))
    }
  </ul>
  <button class="btn-primary">Download CV</button>
</section>

<style lang="scss">
  #experiences {
    padding: 1.5rem;
    border: 1px solid rgb(229, 231, 235);
    border-radius: 1rem;
  }

  .experiences__header {
    display: flex;
    align-items: center;
    column-gap: 1rem;
  }

  h2 {
    color: var(--clr_primary);
    font-size: 0.875rem;
    line-height: 1.5rem;
  }

  ul {
    list-style: none;
    padding-inline: 0.5rem 0;
  }

  li {
    display: flex;
    align-items: center;
    column-gap: 2rem;
    margin-block: 0 2rem;

    > :nth-child(1) {
      width: 28px;
      height: 28px;
      border-radius: 100%;
      overflow: hidden;
      border: 5px solid #fff;
      outline: 0.05rem solid rgb(229, 231, 235);
      box-shadow: rgb(255, 255, 255) 0px 0px 0px;

      flex-shrink: 0;
    }

    > :nth-child(2) {
      flex-grow: 1;

      .details {
        display: flex;
        justify-content: space-between;
      }
    }
  }

  img {
    height: inherit;
  }

  h3 {
    font-size: 0.875rem;
    margin-block: 0 1rem;
    color: var(--clr_primary);
    font-weight: 400;
  }

  h4,
  .time-details {
    color: rgb(113, 113, 122);
    font-weight: 300;
  }

  h4 {
    font-size: 0.8125rem;
    margin: 0;
  }

  .time-details {
    font-size: 0.8125rem;
  }
</style>

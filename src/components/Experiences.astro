---
const allExperiences = await Astro.glob("../content/experiences/*.md");
---

<section id="experiences">
  <h2>
    <span>Experiences</span>
  </h2>

  <ul>
    {
      allExperiences.map((experience) => (
        <li>
          <div class="group">
            <img
              width="40"
              height="40"
              decoding="async"
              src={experience.frontmatter.compagnyimage}
              alt="compagny image"
            />
          </div>
          <div class="group">
            <h3>{experience.frontmatter.compagny}</h3>
            <div class="details">
              <h4>{experience.frontmatter.role}</h4>
              <div class="time-details">
                <time datetime="2019">{experience.frontmatter.startjob}</time>
                <span aria-hidden="true">â€”</span>
                <time datetime="2023">{experience.frontmatter.endjob}</time>
              </div>
            </div>
          </div>
        </li>
      ))
    }
  </ul>

  <a href="/#">Download CV</a>
</section>

<style lang="scss">
  ul {
    list-style: none;
  }

  li {
    display: flex;
    align-items: center;
    column-gap: 2rem;
    margin-block: 0 2rem;

    > :nth-child(1) {
      width: 40px;
      height: 40px;
    }

    > :nth-child(2) {
      flex-grow: 1;

      .details {
        display: flex;
        justify-content: space-between;
      }
    }
  }

  h3 {
    margin-block: 0 1rem;
  }

  h4 {
    margin: 0;
  }

  img {
    border-radius: 100%;
    height: inherit;
  }
</style>
